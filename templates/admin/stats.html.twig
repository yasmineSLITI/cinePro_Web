{% extends 'baseBackOffice.html.twig' %}

 {% block backContainer  %}

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.css" integrity="sha512-/zs32ZEJh+/EO2N1b0PEdoA10JkdC3zJ8L5FTiQu82LR9S/rOQNfQN7U59U9BC12swNeRAz3HSzIL2vpp4fv3w==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" integrity="sha512-s+xg36jbIujB2S2VKfpGmlC3T5V2TF3lY48DX7u2r9XzGzgPsa6wTpOQA7J9iffvdeBN0q9tKzRxVxw1JviZPg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

{{dump()}}
<canvas id="myPieChartStock" width="400" height="100"></canvas>
<canvas id="myBarChartFollowing" width="100" height="30"></canvas>
<script>
const ctx = document.getElementById('myPieChartStock').getContext('2d');
const myPieChartStock = new Chart(ctx, {
    type: 'pie',
    data: {
        labels: ['En Stock', 'Epuisé'],
        datasets: [{
            label: '# Nombre de produits',
            data: [{{produitEnStock_Count}}, {{produitOutOfStock_Count}}],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
            ],
            borderWidth: 1
        }]
        },
    options: {
      title: {
        display: true,
        text: 'Statistiques des produits en stock et epuisés'
      }
        
    }
});

const c= document.getElementById('myBarChartFollowing').getContext('2d');
const myBarChartFollowing = new Chart(c, {
    type: 'bar',
    data: {
        labels: {{prodDesignation|raw}},
        datasets: [{
            label: '# de followings',
            data: {{followings|raw}},
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
      title: {
        display: true,
        text: 'Statistiques des followings de chaque produit epuisé'    
    },
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});
</script>
 
 

{% endblock %}